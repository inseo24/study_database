# 6장 데이터베이스 객체 작성과 삭제

1. 데이터베이스 객체
    1. 데이터베이스 객체란 테이블이나 뷰, 인덱스 등 데이터베이스 내에 정의하는 모든 것을 일컫는 말이다. 
    2. 객체는 데이터베이스 내의 실체를 가지는 어떤 것이다.
    3. 객체 이름의 제약 사항(명명조건)
        1. 기존 이름이나 예약어와 중복하지 않는다.
        2. 숫자로 시작할 수 없다.
        3. 언더스코어(_) 이외의 기호는 사용할 수 없다.
        4. 한글을 사용할 때는 더블쿼트(MYSQL에선 백쿼트)로 둘러싼다.
        5. 시스템이 허용하는 길이를 초과하지 않는다.
        
2. 스키마
    1. 데이터베이스 객체는 스키마 안에 만들어진다. 객체 이름이 같아도 스키마가 서로 다르면 상관없다.
    2. 스키마 안에는 테이블을 정의할 수 있다. 이름이 충돌하지 않도록 기능하는 그릇을 네임스페이스라고 부른다.(스키마나 테이블은 네임스페이스이기도 하다.)
    
3. 테이블 변경
    
    
    ```sql
    -- 열 추가
    ALTER TABLE 테이블명 ADD 열 정의
    ALTER TABLE sample62 ADD newcol INTEGER;
    
    -- NOT NULL 제약이 걸린 열을 추가할 때는 기본값을 지정해야 한다.
    
    -- 열 속성 변경
    ALTER TABLE 테이블명 MODIFY 열 정의
    ALTER TABLE sample62 MODIFY newcol VARCHAR(20);
    
    -- 열 이름 변경
    ALTER TABLE 테이블명 CHANGE [기존 열 이름][신규 열 이름]
    ALTER TABLE sample62 CHANGE newcol c VARCHAR(20);
    
    -- 열 삭제 
    ALTER TABLE 테이블명 DROP 열명
    ALTER TABLE sample62 DROP c;
    
    -- 최대 길이 연장
    ALTER TABLE sample MODIFY col VARCHAR(30)
    -- 최대길이 줄이는 것은 에러 발생하기 쉬우니 되도록 하지 말자!
    
    -- 열 추가
    -- 이것도 확인 잘 하기!(테이블 정의가 바뀌므로 영향을 꽤 줌)
    ALTER TABLE sample ADD new_col INTEGER
    ```
    
4. 제약
    1. NOT NULL 제약
    2. 기본키 제약 - 중복값 저장 못함
    3. 복수 열로 기본키 제약 가능 - 해당 열들은 모두 NOT NULL이어야 함(체크함)
    4. 테이블 제약(CONSTRAINT), 열 제약 추가
    ```sql
    -- C열에 NOT NULL 제약 걸기
    ALTER TABLE sample631 MODIFY c VARCHAR(30) NOT NULL;

    -- 테이블 제약 추가
    -- 기본키 제약 추가
    ALTER TABLE sample631 ADD CONSTRAINT pkey_sample631 PRIMARY KEY(a);

    -- c열의 NOT NULL 제약 없애기
    ALTER TABLE sampel631 MODIFY c VARCHAR(30);

    -- 테이블 제약 삭제하기
    ALTER TABLE sample641 DROP CONSTRAINT pkey_sample631;

    -- 기본키 제약 삭제하기
    ALTER TABLE sample641 DROP PRIMARY KEY;
    ```